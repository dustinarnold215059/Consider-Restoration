<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Booking with Login Authentication - Demo</title>
    <link rel="stylesheet" href="css/style.css">
    <style>
        /* Modal Styles */
        .modal {
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
            backdrop-filter: blur(3px);
        }
        
        .modal-content {
            background-color: #fefefe;
            margin: 5% auto;
            border: none;
            border-radius: 10px;
            width: 90%;
            max-width: 500px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.3);
            animation: modalSlideIn 0.3s ease-out;
        }
        
        @keyframes modalSlideIn {
            from { transform: translateY(-50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        
        .modal-header {
            padding: 20px;
            background: linear-gradient(135deg, #3A7D99, #2A5D75);
            color: white;
            border-radius: 10px 10px 0 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .modal-header h2 {
            margin: 0;
            font-size: 24px;
        }
        
        .close-modal {
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
            color: white;
            opacity: 0.8;
            transition: opacity 0.3s;
        }
        
        .close-modal:hover {
            opacity: 1;
        }
        
        .modal-body {
            padding: 20px;
        }
        
        .booking-preview {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
        }
        
        .booking-preview h4 {
            margin: 0 0 10px 0;
            color: #3A7D99;
        }
        
        .booking-detail {
            display: flex;
            justify-content: space-between;
            margin: 5px 0;
            padding: 5px 0;
            border-bottom: 1px solid #eee;
        }
        
        .booking-detail:last-child {
            border-bottom: none;
            font-weight: bold;
            font-size: 18px;
            color: #28a745;
        }
        
        .auth-tabs {
            display: flex;
            margin: 20px 0 15px 0;
            border-bottom: 2px solid #e9ecef;
        }
        
        .tab-btn {
            background: none;
            border: none;
            padding: 12px 24px;
            font-size: 16px;
            cursor: pointer;
            border-bottom: 3px solid transparent;
            transition: all 0.3s;
        }
        
        .tab-btn.active {
            color: #3A7D99;
            border-bottom-color: #3A7D99;
            font-weight: bold;
        }
        
        .tab-btn:hover {
            background: #f8f9fa;
        }
        
        .auth-form {
            margin-top: 20px;
        }
        
        .auth-btn {
            background: linear-gradient(135deg, #28a745, #20c997);
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 16px;
            border-radius: 8px;
            cursor: pointer;
            width: 100%;
            margin-top: 15px;
            transition: all 0.3s;
        }
        
        .auth-btn:hover {
            background: linear-gradient(135deg, #218838, #1cc88a);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(40, 167, 69, 0.3);
        }
        
        .demo-accounts {
            margin-top: 25px;
            padding: 15px;
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 8px;
        }
        
        .demo-accounts h4 {
            margin: 0 0 15px 0;
            color: #856404;
        }
        
        .demo-account {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 10px 0;
            padding: 8px;
            background: white;
            border-radius: 5px;
        }
        
        .demo-account button {
            background: #ffc107;
            color: #212529;
            border: none;
            padding: 5px 12px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 12px;
        }
        
        .demo-account button:hover {
            background: #e0a800;
        }
        
        .test-container { max-width: 1200px; margin: 20px auto; padding: 20px; }
        .test-section { border: 1px solid #ddd; margin: 15px 0; padding: 20px; border-radius: 8px; background: #f9f9f9; }
        .demo-info { background: #d1ecf1; color: #0c5460; padding: 15px; border-radius: 5px; margin-bottom: 20px; }
        .booking-demo { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
        
        @media (max-width: 768px) { 
            .modal-content { margin: 10% auto; width: 95%; }
            .demo-account { flex-direction: column; gap: 10px; text-align: center; }
            .booking-demo { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <div class="test-container">
        <h1>üîê Booking System with Login Authentication</h1>
        
        <div class="demo-info">
            <h3>üìã Authentication Flow Demo:</h3>
            <ul>
                <li><strong>Fill out booking form</strong> - Enter your appointment details</li>
                <li><strong>Submit booking</strong> - Login modal appears with your booking preview</li>
                <li><strong>Login or Register</strong> - Use demo accounts or create new account</li>
                <li><strong>Complete booking</strong> - Your appointment is confirmed and saved</li>
                <li><strong>User Integration</strong> - Booking is linked to your user account</li>
            </ul>
        </div>
        
        <div class="booking-demo">
            <div class="test-section">
                <h2>üìÖ Book Your Appointment</h2>
                <p><strong>Fill out the form and click "Book Appointment" to see the login modal!</strong></p>
                
                <form id="bookingForm" class="booking-form">
                    <div class="form-group">
                        <label for="clientName">Full Name:</label>
                        <input type="text" id="clientName" name="clientName" required placeholder="Enter your full name">
                    </div>
                    
                    <div class="form-group">
                        <label for="email">Email:</label>
                        <input type="email" id="email" name="email" required placeholder="your.email@example.com">
                    </div>
                    
                    <div class="form-group">
                        <label for="phone">Phone Number:</label>
                        <input type="tel" id="phone" name="phone" required placeholder="(555) 123-4567">
                    </div>
                    
                    <div class="form-group">
                        <label for="service">Service:</label>
                        <select id="service" name="service" required>
                            <option value="">Select a service</option>
                            <option value="mindful-start" data-price="70">Mindful Start - Starting at $70</option>
                            <option value="integrated-massage" data-price="100">Integrated Massage - $100+</option>
                            <option value="thai-stretch" data-price="120">Thai-Stretch Fusion - $120+</option>
                            <option value="applied-neurology" data-price="150">Applied Neurology Consultation - $150+</option>
                            <option value="prenatal" data-price="90">Prenatal Massage - $90</option>
                            <option value="neurology-training" data-price="330">Applied Neurology Training - Up to $330</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="date">Preferred Date:</label>
                        <input type="date" id="date" name="date" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="time">Preferred Time:</label>
                        <select id="time" name="time" required>
                            <option value="">Select a time</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="notes">Special Requests/Notes:</label>
                        <textarea id="notes" name="notes" rows="3" placeholder="Any special requests or notes..."></textarea>
                    </div>
                    
                    <div class="booking-summary">
                        <div class="price-display">
                            <strong>Total: $<span id="totalPrice">0</span></strong>
                        </div>
                    </div>
                    
                    <button type="submit" class="book-button">Book Appointment (Login Required)</button>
                </form>
                
                <div class="availability-calendar">
                    <h3>Available Times Calendar</h3>
                    <div id="calendar"></div>
                </div>
            </div>
            
            <div class="test-section">
                <h2>üë• Demo User Accounts</h2>
                <p><strong>Use these accounts to test the login functionality:</strong></p>
                
                <div class="demo-account">
                    <div>
                        <strong>John Doe</strong><br>
                        Email: john.doe@email.com<br>
                        Password: user123
                    </div>
                </div>
                
                <div class="demo-account">
                    <div>
                        <strong>Jane Smith</strong><br>
                        Email: jane.smith@email.com<br>
                        Password: user123
                    </div>
                </div>
                
                <div class="demo-account">
                    <div>
                        <strong>Or register a new account</strong><br>
                        Use the "Register" tab in the login modal
                    </div>
                </div>
                
                <h3>üîç Test Instructions:</h3>
                <ol>
                    <li><strong>Fill Form:</strong> Complete the booking form on the left</li>
                    <li><strong>Submit:</strong> Click "Book Appointment" to trigger login modal</li>
                    <li><strong>Review:</strong> See your booking details in the modal preview</li>
                    <li><strong>Login:</strong> Use demo accounts or register new user</li>
                    <li><strong>Confirm:</strong> Your booking will be completed and linked to user account</li>
                </ol>
                
                <h3>‚ú® Features Demonstrated:</h3>
                <ul>
                    <li>Form data preservation during login</li>
                    <li>Booking preview before confirmation</li>
                    <li>User authentication integration</li>
                    <li>Account creation with pre-filled data</li>
                    <li>Final booking confirmation with user details</li>
                </ul>
            </div>
        </div>
    </div>

    <!-- Login Modal -->
    <div id="loginModal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Login Required</h2>
                <span class="close-modal" onclick="closeLoginModal()">&times;</span>
            </div>
            <div class="modal-body">
                <p><strong>Please login to complete your booking.</strong></p>
                <p>Your booking information has been saved and will be confirmed after login.</p>
                
                <div class="booking-preview" id="bookingPreview">
                    <!-- Booking details will be shown here -->
                </div>
                
                <div class="auth-tabs">
                    <button class="tab-btn active" onclick="showLoginTab()">Login</button>
                    <button class="tab-btn" onclick="showRegisterTab()">Register</button>
                </div>
                
                <!-- Login Form -->
                <form id="loginForm" class="auth-form" style="display: block;">
                    <div class="form-group">
                        <label for="loginEmail">Email:</label>
                        <input type="email" id="loginEmail" name="email" required>
                    </div>
                    <div class="form-group">
                        <label for="loginPassword">Password:</label>
                        <input type="password" id="loginPassword" name="password" required>
                    </div>
                    <button type="submit" class="auth-btn">Login & Complete Booking</button>
                </form>
                
                <!-- Register Form -->
                <form id="registerForm" class="auth-form" style="display: none;">
                    <div class="form-group">
                        <label for="registerName">Full Name:</label>
                        <input type="text" id="registerName" name="name" required>
                    </div>
                    <div class="form-group">
                        <label for="registerEmail">Email:</label>
                        <input type="email" id="registerEmail" name="email" required>
                    </div>
                    <div class="form-group">
                        <label for="registerPhone">Phone:</label>
                        <input type="tel" id="registerPhone" name="phone" required>
                    </div>
                    <div class="form-group">
                        <label for="registerPassword">Password:</label>
                        <input type="password" id="registerPassword" name="password" required>
                    </div>
                    <div class="form-group">
                        <label for="confirmPassword">Confirm Password:</label>
                        <input type="password" id="confirmPassword" name="confirmPassword" required>
                    </div>
                    <button type="submit" class="auth-btn">Register & Complete Booking</button>
                </form>
                
                <div class="demo-accounts">
                    <h4>Demo Accounts (for testing):</h4>
                    <div class="demo-account">
                        <strong>User:</strong> john.doe@email.com / user123
                        <button onclick="fillDemoLogin('john.doe@email.com', 'user123')">Use This Account</button>
                    </div>
                    <div class="demo-account">
                        <strong>User:</strong> jane.smith@email.com / user123
                        <button onclick="fillDemoLogin('jane.smith@email.com', 'user123')">Use This Account</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="js/shared-data.js"></script>
    <script src="js/booking-simple.js"></script>
</body>
</html>
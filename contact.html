<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact - Consider Restoration</title>
    <link rel="stylesheet" href="css/style.css">
    <script src="js/shared-data.js"></script>
    <script src="js/cookie-session-manager.js"></script>
    <script src="js/navigation-handler.js"></script>
    <!-- No external dependencies needed for backend submission -->
</head>
<body>
    <header>
        <nav class="navbar">
            <div class="nav-container">
                <h1 class="logo">Consider Restoration</h1>
                <ul class="nav-menu">
                    <li><a href="index.html">Home</a></li>
                    <li><a href="about.html">About</a></li>
                    <li><a href="services.html">Services</a></li>
                    <li><a href="membership.html">Membership</a></li>
                    <li><a href="booking.html">Book Appointment</a></li>
                    <li><a href="reviews.html">Reviews</a></li>
                    <li><a href="contact.html" class="active">Contact</a></li>
                    <li><a href="user-portal.html" id="accountNavLink">Login</a></li>
                    <li id="adminNavLink" style="display: none;"><a href="admin.html">Admin</a></li>
                </ul>
            </div>
        </nav>
    </header>

    <main>
        <section class="contact page-section">
            <div class="container">
                <h1>Contact Information</h1>
                <div class="contact-content">
                    <div class="contact-info">
                        <div class="contact-item">
                            <h3>üìç Location</h3>
                            <p><strong>Address:</strong> 32788 Five Mile Rd, Livonia, MI 48152</p>
                        </div>
                        
                        <div class="contact-item">
                            <h3>üìû Phone</h3>
                            <p><strong>Phone:</strong> <a href="tel:7344194116">(734) 419-4116</a></p>
                        </div>
                        
                        <div class="contact-item">
                            <h3>‚úâÔ∏è Email</h3>
                            <p><strong>Email:</strong> <a href="mailto:admin@test.com">admin@test.com</a></p>
                        </div>
                        
                        <div class="hours-section">
                            <h3>üïí Business Hours</h3>
                            <ul class="hours-list">
                                <li><strong>Monday:</strong> 10:00 AM - 4:00 PM</li>
                                <li><strong>Tuesday:</strong> By appointment only</li>
                                <li><strong>Wednesday:</strong> 9:45 AM - 5:30 PM</li>
                                <li><strong>Thursday:</strong> 12:00 PM - 7:00 PM</li>
                                <li><strong>Friday:</strong> 10:00 AM - 6:00 PM</li>
                                <li><strong>Saturday/Sunday:</strong> Closed</li>
                            </ul>
                        </div>
                    </div>
                    
                    <div class="contact-form-section">
                        <h2>Send a Message</h2>
                        <form id="contactForm" class="contact-form">
                            <div class="form-group">
                                <label for="contactName">Full Name:</label>
                                <input type="text" id="contactName" name="name" required>
                            </div>
                            
                            <div class="form-group">
                                <label for="contactEmail">Email:</label>
                                <input type="email" id="contactEmail" name="email" required>
                            </div>
                            
                            <div class="form-group">
                                <label for="contactPhone">Phone (optional):</label>
                                <input type="tel" id="contactPhone" name="phone">
                            </div>
                            
                            <div class="form-group">
                                <label for="contactSubject">Subject:</label>
                                <select id="contactSubject" name="subject" required>
                                    <option value="">Select a subject</option>
                                    <option value="appointment">Appointment Question</option>
                                    <option value="services">Services Information</option>
                                    <option value="membership">Membership Program</option>
                                    <option value="gift-certificate">Gift Certificates</option>
                                    <option value="other">Other</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label for="contactMessage">Message:</label>
                                <textarea id="contactMessage" name="message" rows="5" required></textarea>
                            </div>
                            
                            <button type="submit" class="submit-button">Send Message</button>
                        </form>
                    </div>
                </div>
                
                <div class="additional-info">
                    <div class="info-card">
                        <h3>üéÅ Gift Certificates</h3>
                        <p>Perfect for holidays, birthdays, or any special occasion. Gift certificates are available for all services and can be purchased online or by phone.</p>
                    </div>
                    
                    <div class="info-card">
                        <h3>üöó Parking & Access</h3>
                        <p>Free parking available on-site. The practice is wheelchair accessible with easy ground-level entry.</p>
                    </div>
                    
                    <div class="info-card">
                        <h3>üìã First-Time Clients</h3>
                        <p>Please arrive 15 minutes early for intake forms. Bring a list of any medications and areas of concern you'd like addressed.</p>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <div class="container">
            <p>&copy; 2024 Consider Restoration - Christopher Rembisz, LMT. All rights reserved.</p>
        </div>
    </footer>

    <script src="js/script.js"></script>
    <script>
        // Simple Contact form handling - localStorage only
        document.getElementById('contactForm')?.addEventListener('submit', function(e) {
            e.preventDefault();
            
            // Get form data
            const formData = new FormData(this);
            const data = Object.fromEntries(formData);
            
            // Simple validation
            if (!data.name || !data.email || !data.message || !data.subject) {
                alert('Please fill in all required fields.');
                return;
            }
            
            // Show loading state
            const submitBtn = this.querySelector('button[type="submit"]');
            const originalText = submitBtn.textContent;
            submitBtn.textContent = 'Sending...';
            submitBtn.disabled = true;
            
            // Prepare message data
            const messageData = {
                name: data.name,
                email: data.email,
                phone: data.phone || 'Not provided',
                subject: data.subject,
                message: data.message,
                timestamp: new Date().toLocaleString(),
                id: Date.now() // Simple ID for tracking
            };
            
            // Save to localStorage
            saveContactMessage(messageData);
            
            // Show success message
            setTimeout(() => {
                alert('Thank you for your message! We\'ve received it and will get back to you within 24 hours.');
                document.getElementById('contactForm').reset();
                submitBtn.textContent = originalText;
                submitBtn.disabled = false;
            }, 1000);
        });
        
        // Save contact messages to localStorage
        function saveContactMessage(messageData) {
            try {
                let messages = JSON.parse(localStorage.getItem('contactMessages') || '[]');
                messages.push(messageData);
                localStorage.setItem('contactMessages', JSON.stringify(messages));
                console.log('Contact message saved:', messageData);
                
                // Dispatch custom event for admin panel
                window.dispatchEvent(new CustomEvent('contactMessageAdded', { detail: messageData }));
            } catch (error) {
                console.error('Failed to save contact message:', error);
            }
        }
        
        // Function to get all contact messages (for admin panel)
        window.getContactMessages = function() {
            try {
                return JSON.parse(localStorage.getItem('contactMessages') || '[]');
            } catch (error) {
                console.error('Failed to load contact messages:', error);
                return [];
            }
        };
    </script>
</body>
</html>